<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reshka - Prompts</title>

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 64 64%22><defs><clipPath id=%22c%22><rect width=%2264%22 height=%2264%22 rx=%2216%22/></clipPath><filter id=%22gl%22><feGaussianBlur stdDeviation=%223%22/></filter></defs><rect width=%2264%22 height=%2264%22 rx=%2216%22 fill=%22%23080810%22/><g clip-path=%22url(%23c)%22><path d=%22M6 32 C9 32 10 26 13 26 S17 38 19 38 S22 20 25 20 S28 44 30 44 S33 14 36 14 S39 48 41 48 S44 22 47 22 S50 40 52 40 S55 28 58 28 L60 32%22 stroke=%22%2300e5ff%22 stroke-width=%224.5%22 fill=%22none%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22 filter=%22url(%23gl)%22 opacity=%22.8%22/><path d=%22M6 32 C9 32 10 26 13 26 S17 38 19 38 S22 20 25 20 S28 44 30 44 S33 14 36 14 S39 48 41 48 S44 22 47 22 S50 40 52 40 S55 28 58 28 L60 32%22 stroke=%22%2300ffff%22 stroke-width=%222.5%22 fill=%22none%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22/><path d=%22M6 32 C9 32 10 26 13 26 S17 38 19 38 S22 20 25 20 S28 44 30 44 S33 14 36 14 S39 48 41 48 S44 22 47 22 S50 40 52 40 S55 28 58 28 L60 32%22 stroke=%22%23eeffff%22 stroke-width=%221%22 fill=%22none%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22/></g></svg>">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600&family=Orbitron:wght@400;600;700&family=Rajdhani:wght@400;500;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <div class="control-panel">
            <a href="index.html" class="app-title" style="text-decoration: none;">
                <div class="main-title">Reshka</div>
                <div class="subtitle">Prompt Editor</div>
            </a>

            <div class="nav-links" style="margin-left: auto;">
                <a href="index.html" class="nav-link-btn" data-bs-toggle="tooltip" title="Transcription"><i class="fas fa-microphone"></i></a>
                <a href="config.html" class="nav-link-btn" data-bs-toggle="tooltip" title="Configuration"><i class="fas fa-cog"></i></a>
                <a href="prompts.html" class="nav-link-btn active" data-bs-toggle="tooltip" title="Prompts"><i class="fas fa-pen"></i></a>
            </div>
        </div>

        <div class="form-page-content">
            <div class="form-page-card">
                <h2 class="form-page-title"><i class="fas fa-pen me-2"></i>Prompt Settings</h2>

                <!-- 1. Jargons -->
                <div class="mb-4">
                    <label for="jargons" class="form-label">
                        Known Jargons
                        <span class="form-hint">One item per line — injected as <code>{known_jargons}</code> in prompts below</span>
                    </label>
                    <textarea class="form-control font-mono" id="jargons" rows="4"
                        placeholder="generate questions&#10;your custom phrase"></textarea>
                </div>

                <!-- 2. Transcriber Prompt -->
                <div class="mb-4">
                    <label for="userPrompt" class="form-label">
                        Transcriber Prompt
                        <span class="form-hint required-hint">Must contain <code>{known_jargons}</code></span>
                    </label>
                    <textarea class="form-control font-mono" id="userPrompt" rows="8"
                        oninput="validateTranscriberPrompt()"></textarea>
                    <div id="transcriberError" class="field-error" style="display: none;">
                        &#9888; Transcriber prompt must contain <code>{known_jargons}</code>
                    </div>
                </div>

                <!-- 3. Rephraser Prompt -->
                <div class="mb-4">
                    <label for="rephrasePrompt" class="form-label">
                        Rephraser Prompt
                        <span class="form-hint">Optional: include <code>{known_jargons}</code> to inject jargon context</span>
                    </label>
                    <textarea class="form-control font-mono" id="rephrasePrompt" rows="8"
                        oninput="validateOptionalPrompt('rephrasePrompt', 'rephraseHint')"></textarea>
                    <div id="rephraseHint" class="field-hint" style="display: none;">
                        &#8505; <code>{known_jargons}</code> not found — jargons won't be included
                    </div>
                </div>

                <!-- 4. Question Generator Prompt -->
                <div class="mb-4">
                    <label for="questionPrompt" class="form-label">
                        Question Generator Prompt
                        <span class="form-hint">Optional: include <code>{known_jargons}</code> to inject jargon context</span>
                    </label>
                    <textarea class="form-control font-mono" id="questionPrompt" rows="8"
                        oninput="validateOptionalPrompt('questionPrompt', 'questionHint')"></textarea>
                    <div id="questionHint" class="field-hint" style="display: none;">
                        &#8505; <code>{known_jargons}</code> not found — jargons won't be included
                    </div>
                </div>

                <div class="form-page-actions">
                    <a href="index.html" class="btn btn-secondary-page">
                        <i class="fas fa-arrow-left me-2"></i>Back
                    </a>
                    <button class="btn btn-secondary-page" onclick="resetToDefaults()">
                        <i class="fas fa-undo me-2"></i>Reset to Defaults
                    </button>
                    <button class="btn btn-primary-page" id="saveBtn" onclick="savePrompts()">
                        <i class="fas fa-save me-2"></i>Save
                    </button>
                </div>

                <div id="saveStatus" class="save-status" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="prompts.js"></script>
</body>

</html>
